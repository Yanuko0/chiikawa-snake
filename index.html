<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>吉伊卡哇貪吃蛇</title>
    <link rel="stylesheet" href="style.css">
</head>



<body>
    
    <div class="panbg"></div>
    <div class="btnbox">
        <!-- 記分板 -->
        <h1>Chiikawa</h1>
    
        <br/>
        <div class="score">score:<span>0</span></div>
        <button id="start">start</button>
        <button id="pause">pause</button>
        <button id="restart">restart</button>
        
    </div>
    <div class="map">
        <!-- <div class="head"></div>
        <div class="body"></div>
        <div class="food"></div> -->
    </div>
    <img id="popupImage" src="圖/小八.gif" alt="PopupImage">
    <img id="popupImage1" src="圖/兔兔.gif" alt="PopupImage1">
    <img id="popupImage2" src="圖/小吉伊.gif" alt="PopupImage2">



    

    <!-- 背景音樂 -->
    <audio id="backgroundMusic" src="music/BGM动画吉伊卡哇小可爱 原声带 (耳コピ)_哔哩哔哩.mp3" autoplay loop></audio>

    <!-- 被吃掉時的音效 -->
    <audio id="eatSound" src="music/被吃掉.mp3"></audio>
    <audio id="popupSound" src="music/小八分數獎勵.mp3"></audio>
    <audio id="popupSound1" src="music/兔子分數獎勵.mp3"></audio>
    <audio id="popupSound2" src="music/吉伊分數獎勵.mp3"></audio>

<!-- 遊戲結束的音效 -->
    <audio id="gameoverSound" src="music/gameover.mp3"></audio>

    <script src="./food.js"></script>
    <script src="./snake.js"></script>
    <script src="./game.js"></script>
    <script src="./touchCintrol.js"></script>

    <script>
        // const food = new Food(".map")
        // const snake = new Snake(".map")
        const game = new Game(".map",".score span",".panbg")
        //拿到按鈕
        const start = document.querySelector("#start")
        const pause = document.querySelector("#pause")
        const restart = document.querySelector("#restart")

        start.onclick = function () {
            game.start()
        }
        pause.onclick = function () {
            game.pause()
        }
        restart.onclick = function () {
            game.restart()
        }

        //鍵盤監聽 左37 上38 右39 下40
        document.onkeydown = function (e) {
            // console.log(e.keyCode)
            switch (e.keyCode) {
                case 37:
                    game.change("left")
                    break;
                case 38:
                    game.change("top")
                    break;
                case 39:
                    game.change("right")
                    break;
                case 40:
                    game.change("bottom")
                    break;
                    
                case 13:
                    game.start()
                    break;
                case 32:
                    game.pause()
                    break;
            }
        }

    </script>

    

</body>

</html>